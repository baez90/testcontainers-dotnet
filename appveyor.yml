image:
  - Visual Studio 2017

stack: docker

services:
  - docker

configuration: Release

install:
  - dotnet restore
  #- docker pull quay.io/testcontainers/ryuk:0.2.3

build_script:
  - dotnet build

before_test:
  - docker info
  - (cd ryuk && docker build -t ryuk:0.2.3-windows-sac2016 .)
  
test_script:
  - dotnet test
    
cache:
  - '%USERPROFILE%\.nuget\packages'
  - '%USERPROFILE%\.local/share/NuGet/Cache'